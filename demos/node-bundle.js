/**
 * Copyright (c) 2016 Craig Monro (kodespace.com)
 * No part of this file may be copied or retransmitted without adhering to the GPL license.
 * This copyright notice may not be removed, without express permission of the copyright holder.
 * https://github.com/cmroanirgo/pl-copyfind/blob/master/LICENSE.md
 */
require=function r(t,e,n){function i(o,u){if(!e[o]){if(!t[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=e[o]={exports:{}};t[o][0].call(h.exports,function(r){var e=t[o][1][r];return i(e?e:r)},h,h.exports,r,t,e,n)}return e[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(r,t,e){"use strict";var n=r("underscore");(function(){function r(r){return/[ \f\n\r\t\v\u00A0\u2028\u2029]/.test(r)}function i(r){return r=r.charCodeAt(0),r>0&&31>r||255==r||127==r}var a=this,o=(a.TextReader,0),u=1,s=2,c=3,h=a.TextReader=function(r){this._text=r,this._textpos=0,this._gotWord=!1,this._gotDelimiter=!1,this._gotChar=!1,this._char="",this._delimiterType=o};h.prototype.constructor=h,h.prototype.isFinished=function(){return this._delimiterType==c},h.prototype.getCharTxt=function(){return this._textpos<this._text.length?this._text.charAt(this._textpos++):-1},h.prototype.getPos=function(){var r=this._textpos;return this._gotChar&&r--,r},h.prototype.getWord=function(){var t=[];for(this._gotWord=!1,this._gotDelimiter=!1,this._delimiterType=o;;){if(this._gotChar?this._gotChar=!1:this._char=this.getCharTxt(),this._char<0){this._delimiterType=c;var e=t.join("");return e}if("\n"==this._char||"\r"==this._char)this._delimiterType=s,this._gotDelimiter=!0;else if(r(this._char))u>this._delimiterType&&(this._delimiterType=u),this._gotDelimiter=!0;else{if(i(this._char))continue;if(this._gotDelimiter){if(this._gotWord){this._gotChar=!0;var e=t.join("");return e}this._delimiterType=o,this._gotDelimiter=!1,this._gotChar=!0}else t.length<255&&(t.push(this._char),this._gotWord=!0)}}return""},n.isUndefined(e)?a.TextReader=h:(!n.isUndefined(t)&&t.exports&&(e=t.exports=h),e.TextReader=h)}).call(this)},{underscore:"underscore"}],2:[function(r,t,e){"use strict";var n=r("underscore");(function(){function r(r){return r=r.charCodeAt(0),r>=33&&47>=r||r>=58&&64>=r||r>=91&&96>=r||r>=127}function i(r){return/[0-9]/.test(r)}function a(r){return/[a-zA-Z]/.test(r)}var o=this,u=(o.words,{removePunct:function(t){for(var e=[],n=0;n<t.length;n++){var i=t.charAt(n);r(i)||e.push(i)}return e.join("")},outerPunct:function(t){for(var e=0,n=t.length-1,i=0;i<t.length;i++){var a=t.charAt(i);if(!r(a))break;e=i}for(var i=t.length-1;i>e;i--){var a=t.charAt(i);if(!r(a))break;n=i-1}return e>n?"":t.substr(e,n-e+1)},removeNumbers:function(r){for(var t=[],e=0;e<r.length;e++){var n=r.charAt(e);i(n)||t.push(n)}return t.join("")},toLowerCase:function(r){return r.toLowerCase()},isWord:function(r){var t=r.length;if(1>t)return!1;if(!a(r.charAt(0)))return!1;if(!a(r.charAt(t-1)))return!1;for(var e=1;t-2>e;e++){var n=r.charAt(e);if(!a(n)&&"-"!=n&&"'"!=n)return!1}return!0},hash:function(r){var t,e=0;if(0==r.length)return 1;for(var n=0;n<r.length;n++)t=r.charCodeAt(n),e=(e<<7|e>>>25)^t,e>>>=0;return e}}),s=o.words=u;n.isUndefined(e)?o.words=s:(!n.isUndefined(t)&&t.exports&&(e=t.exports=s),e.words=s)}).call(this)},{underscore:"underscore"}],demo:[function(r,t,e){function n(r,t){if(!r)throw"Blob object is required.";r.type||(r.type="text/html");var e=r.type.split("/")[1];if(t&&-1!==t.indexOf(".")){var n=t.split(".");t=n[0],e=n[1]}var i=(t||Math.round(9999999999*Math.random())+888888888)+"."+e;if("undefined"!=typeof navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(r,i);if("undefined"!=typeof navigator.msSaveBlob)return navigator.msSaveBlob(r,i);var a=document.createElement("a");a.href=URL.createObjectURL(r),a.target="_blank",a.download=i,navigator.mozGetUserMedia&&(a.onclick=function(){(document.body||document.documentElement).removeChild(a)},(document.body||document.documentElement).appendChild(a));var o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});a.dispatchEvent(o),navigator.mozGetUserMedia||URL.revokeObjectURL(a.href)}function i(r,t){r.match("^http")||(r="http://"+r),console.log("fetching yql request for: "+r),$.getJSON("http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D%22"+encodeURIComponent(r)+"%22&format=xml'&callback=?",function(r){r.results[0]?(console.log("got yql '"+(r.results[0]+"").slice(0,"20")+"'..."),t(!1,r.results[0])):t({message:"Error: could not load the page."})})}function a(r){r=r.replace(/\r/g,"").replace(/\t{2,}/g,"	").replace(/\n/g," "),r=r.replace(/<\!DOCTYPE [^>]*?>/g,""),r=r.replace(/<!-- .*?-->/g,""),r=r.replace(/<\!\[CDATA\[(.*?)\]\]/g,"$1"),r=r.replace(/<([a-zA-Z]+) [^>]*?\/>/gi,"<$1/>"),r=r.replace(/<([a-zA-Z]+) [^>]*?>/gi,"<$1>"),r=r.replace(/<head.*?<\/head>/gi,""),r=r.replace(/<body>/gi,"").replace(/<\/body>/gi,"").replace(/<html>/gi,"").replace(/<\/html>/gi,""),r=r.replace(/<script[^>]*?\/>/gi," "),r=r.replace(/<script.*?<\/script>/gi," "),r=r.replace(/<noscript.*?<\/noscript>/gi,""),r=r.replace(/<canvas.*?<\/canvas>/gi," "),r=r.replace(/<style.*?<\/style>/gi," "),r=r.replace(/<footer.*?<\/footer>/gi," ").replace(/<nav.*?<\/nav>/gi," ").replace(/<header.*?<\/header>/gi," ").replace(/<figure.*?<\/figure>/gi," ");var t=$("<div>"+r+"</div>");return r=t.text().replace(/\r/g,"").replace(/ {2,}/g," ").replace(/\n{2,}/g,"\n").replace(/\t{2,}/g,"	")}var o={invokeSaveAsDialog:n,fetchUrl:i,stripHtml:a};t&&(t.exports=o)},{}],"pl-copyfind":[function(r,t,e){"use strict";var n=r("underscore"),i=r("./lib/words"),a=r("./lib/TextReader");(function(){function r(r,t,e){var n={message:t};return r(n),!1}function o(r,t,e){for(var n=new a(r),o=[],u=[];!n.isFinished();){var s=n.getPos(),c=n.getWord();t.bIgnorePunctuation&&(c=i.removePunct(c)),t.bIgnoreOuterPunctuation&&(c=i.outerPunct(c)),t.bIgnoreNumbers&&(c=i.removeNumbers(c)),t.bIgnoreCase&&(c=c.toLowerCase(c)),t.bSkipLongWords&&c.length>t.SkipLength||(!t.bSkipNonwords||i.isWord(c))&&(u.push(s),o.push(i.hash(c)))}var h=o.length,l={};l.WordsTotal=h,l.WordHash=o,l.WordPos=u,l.SortedWords=[],l.DocLength=r.length;for(var f=0;h>f;f++)l.SortedWords.push({number:f,hash:o[f]});if(l.SortedWords.sort(function(r,t){return r.hash-t.hash}),1==t.PhraseLength)l.FirstHash=0;else{for(var p=0,f=0;h>f;f++)if(0!=(4290772992&l.SortedWords[f].hash)){p=f;break}l.FirstHash=p}return l}function u(r,t,e,n){function i(r,t,e,n,i){return 200*i/(e-r+n-t+2)}var a,o,u,s,c,h,l,f,p,d,y,M,b,k,T,_,W,x,R,L,w,S,A;n.i={MatchMarkL:[],MatchMarkR:[],MatchAnchorL:[],MatchAnchorR:[],MatchMarkTempL:[],MatchMarkTempR:[],MatchingDocumentPairs:0,MatchingWordsPerfect:0,MatchingWordsTotalL:0,MatchingWordsTotalR:0};var j=[];for(a=0;a<r.WordsTotal;a++)n.i.MatchMarkL[a]=g,n.i.MatchAnchorL[a]=0;for(o=0;o<t.WordsTotal;o++)n.i.MatchMarkR[o]=g,n.i.MatchAnchorR[o]=0;for(a=r.FirstHash,o=t.FirstHash,S=0;a<r.WordsTotal&&o<t.WordsTotal;)if(n.i.MatchMarkL[r.SortedWords[a].number]==g)if(n.i.MatchMarkR[t.SortedWords[o].number]==g)if(r.SortedWords[a].hash<t.SortedWords[o].hash){if(a++,a>=r.WordsTotal)break}else if(r.SortedWords[a].hash>t.SortedWords[o].hash){if(o++,o>=t.WordsTotal)break}else{for(L=r.SortedWords[a].hash,u=a,s=o;u<r.WordsTotal-1&&r.SortedWords[u+1].hash==L;)u++;for(;s<t.WordsTotal-1&&t.SortedWords[s+1].hash==L;)s++;for(c=a;u>=c;c++)if(n.i.MatchMarkL[r.SortedWords[c].number]==g)for(h=o;s>=h;h++)if(n.i.MatchMarkR[t.SortedWords[h].number]==g){for(n.i.MatchMarkTempL[r.SortedWords[c].number]=v,n.i.MatchMarkTempR[t.SortedWords[h].number]=v,l=r.SortedWords[c].number-1,p=r.SortedWords[c].number+1,f=t.SortedWords[h].number-1,d=t.SortedWords[h].number+1;l>=0&&f>=0&&n.i.MatchMarkL[l]==g&&n.i.MatchMarkR[f]==g&&r.WordHash[l]==t.WordHash[f];)n.i.MatchMarkTempL[l]=v,n.i.MatchMarkTempR[f]=v,l--,f--;for(;p<r.WordsTotal&&d<t.WordsTotal&&n.i.MatchMarkL[p]==g&&n.i.MatchMarkR[d]==g&&r.WordHash[p]==t.WordHash[d];)n.i.MatchMarkTempL[p]=v,n.i.MatchMarkTempR[d]=v,p++,d++;if(y=l+1,M=f+1,b=p-1,k=d-1,w=b-y+1,e.MismatchTolerance>0){for(T=y,_=M,W=b,x=k,R=0;l>=0&&f>=0&&n.i.MatchMarkL[l]==g&&n.i.MatchMarkR[f]==g;)if(r.WordHash[l]!=t.WordHash[f]){if(R++,R>e.MismatchTolerance)break;if(l-1>=0){if(n.i.MatchMarkL[l-1]!=g)break;if(r.WordHash[l-1]==t.WordHash[f]){if(i(l-1,f,W,x,w+1)<e.MismatchPercentage)break;n.i.MatchMarkTempL[l]=m,l--,w++,R=0,n.i.MatchMarkTempL[l]=v,n.i.MatchMarkTempR[f]=v,y=l,M=f,l--,f--;continue}}if(f-1>=0){if(n.i.MatchMarkR[f-1]!=g)break;if(r.WordHash[l]==t.WordHash[f-1]){if(i(l,f-1,W,x,w+1)<e.MismatchPercentage)break;n.i.MatchMarkTempR[f]=m,f--,w++,R=0,n.i.MatchMarkTempL[l]=v,n.i.MatchMarkTempR[f]=v,y=l,M=f,l--,f--;continue}}if(i(l-1,f-1,W,x,w)<e.MismatchPercentage)break;n.i.MatchMarkTempL[l]=m,n.i.MatchMarkTempR[f]=m,l--,f--}else w++,R=0,n.i.MatchMarkTempL[l]=v,n.i.MatchMarkTempR[f]=v,y=l,M=f,l--,f--;for(R=0;p<r.WordsTotal&&d<t.WordsTotal&&n.i.MatchMarkL[p]==g&&n.i.MatchMarkR[d]==g;)if(r.WordHash[p]!=t.WordHash[d]){if(R++,R==e.MismatchTolerance)break;if(p+1<r.WordsTotal){if(n.i.MatchMarkL[p+1]!=g)break;if(r.WordHash[p+1]==t.WordHash[d]){if(i(T,_,p+1,d,w+1)<e.MismatchPercentage)break;n.i.MatchMarkTempL[p]=m,p++,w++,R=0,n.i.MatchMarkTempL[p]=v,n.i.MatchMarkTempR[d]=v,b=p,k=d,p++,d++;continue}}if(d+1<t.WordsTotal){if(n.i.MatchMarkR[d+1]!=g)break;if(r.WordHash[p]==t.WordHash[d+1]){if(i(T,_,p,d+1,w+1)<e.MismatchPercentage)break;n.i.MatchMarkTempR[d]=m,d++,w++,R=0,n.i.MatchMarkTempL[p]=v,n.i.MatchMarkTempR[d]=v,b=p,k=d,p++,d++;continue}}if(i(T,_,p+1,d+1,w)<e.MismatchPercentage)break;n.i.MatchMarkTempL[p]=m,n.i.MatchMarkTempR[d]=m,p++,d++}else w++,R=0,n.i.MatchMarkTempL[p]=v,n.i.MatchMarkTempR[d]=v,b=p,k=d,p++,d++}if(w>=e.PhraseLength){S++;var O=function(r,t,e){var n,i=r.WordPos[t];return n=e==r.WordPos.length-1?r.DocLength:r.WordPos[e+1],n-i},P=[],N=[];for(A=y;b>=A;A++)n.i.MatchMarkL[A]=n.i.MatchMarkTempL[A],n.i.MatchMarkTempL[A]==v?n.i.MatchingWordsPerfect++:P.push({pos:r.WordPos[A],length:O(r,A,A)}),n.i.MatchAnchorL[A]=S;for(n.i.MatchingWordsTotalL+=b-y+1,A=M;k>=A;A++)n.i.MatchMarkR[A]=n.i.MatchMarkTempR[A],n.i.MatchAnchorR[A]=S,n.i.MatchMarkTempR[A]!=v&&N.push({pos:t.WordPos[A],length:O(t,A,A)});n.i.MatchingWordsTotalR+=k-M+1;var D={textL:{pos:r.WordPos[y],length:O(r,y,b),wordCount:b-y+1,skipped:P},textR:{pos:t.WordPos[M],length:O(t,M,k),wordCount:k-M+1,skipped:N}};j.push(D)}}a=u+1,o=s+1}else o++;else a++;return n.matches[r.docNum][t.docNum]=j,-1}function s(r,t){if(!r)throw"ASSERTION! "+t}function c(r,t,e,n){return t>0?1==t?"":e?"..."+r.slice(-t):n?r.slice(0,t)+"...":r.length<2*t?r:r.slice(0,t)+"...\n\n\n..."+r.slice(-t):r}function h(r,t,e,i,a,o){if(!a.length)return"";for(var u=[],h=0;h<a.length;h++){var l=a[h]["text"+e];l.num=h+1,u.push(l)}u.sort(function(r,t){return r.pos-t.pos});for(var f=o.bBriefReport?o.bTerseReport?1:3*o.PhraseLength*5:0,p=[],d=0,h=0;h<u.length;h++){var g=u[h];s(g.pos>=d,"sorted matches are out of order"),s(g.length>0,"matches' length is invalid");var v,m=n.escape(c(r.slice(d,g.pos),f,0==d,!1));if(g.skipped&&0!=g.skipped.length){v=[],d=g.pos;for(var y=0;y<g.skipped.length;y++){var M=g.skipped[y];s(M.pos>=d,"skipped matches are out of order"),s(M.pos>=g.pos&&M.pos+M.length<=g.pos+g.length,"sorted matches are outside expected range");var b=n.escape(r.slice(d,M.pos)),k='</span><span class="match-partial">'+n.escape(r.slice(M.pos,M.pos+M.length))+'</span><span class="match">';d=M.pos+M.length,v.push(b+k)}d<g.pos+g.length&&v.push(n.escape(r.slice(d,g.pos+g.length))),v='<span class="match">'+v.join("")+"</span>",v=v.split('<span class="match"></span>').join("")}else v='<span class="match">'+n.escape(r.slice(g.pos,g.pos+g.length))+"</span>";v='<a href="#'+t+i+g.num+'" id="'+t+e+g.num+'">'+v+"</a>",p.push(m+v),d=g.pos+g.length}return d<r.length&&p.push(n.escape(c(r.slice(d),f,!1,!0))),p=p.join("").split("\n").join("\n<br>\n"),'\n\n<div class="doc" id="'+t+e+'">\n'+p+"</div>"}function l(r,t,e,n,i,a){var o="doc";(r.length>1||t.length>1)&&(o+=e.docNum+""+n.docNum);var u=a.matches[e.docNum][n.docNum];if(0==u.length)return"";var s=h(r[e.docNum],o,"L","R",u,i),c=h(t[n.docNum],o,"R","L",u,i),l="";return(r.length>1||t.length>1)&&(l+="\n\n<div class='doc-container'><h2>Comparison results of #"+e.docNum+" and #"+n.docNum+"</h2>\n"),l+=s+c+"\n",(r.length>1||t.length>1)&&(l+="</div>"),l}function f(t,e,i,a){Date.now||(Date.now=function(){return(new Date).getTime()});var s=Date.now();n.isFunction(i)&&(a=i,i={}),n.defaults(i,d);var c=n.isString(t)&&n.isString(e);if(n.isString(t)&&(t=[t]),n.isString(e)&&(e=[e]),!n.isArray(t)||0==t.length||!n.isString(t[0]))return r(a,"'Left' source text must be a string or an array of strings.");if(!n.isArray(e)||0==e.length||!n.isString(e[0]))return r(a,"'Right' source text must be a string or an array of strings.");var h={matches:[],hashesL:[],hashesR:[]};if(i.hashesL){if(i.hashesL.length!=t.length)return r(a,"options.hashesL is invalid");h.hashesL=i.hashesL}if(i.hashesR){if(i.hashesR.length!=e.length)return r(a,"options.hashesR is invalid");h.hashesR=i.hashesR}if(!h.hashesL.length)for(var f=0;f<t.length;f++){var p=o(t[f],i,a);if(!p)return;h.hashesL.push(p)}if(!h.hashesR.length)for(var f=0;f<e.length;f++){var p=o(e[f],i,a);if(!p)return;h.hashesR.push(p)}for(var g=[],v=0;v<h.hashesL.length;v++){h.matches[v]=[];for(var m=0;m<h.hashesR.length;m++){h.hashesL[v].docNum=v,h.hashesR[m].docNum=m,h.matches[v][m]=[];var y=u(h.hashesL[v],h.hashesR[m],i,h);if(y>0)return r(a,"Error "+y+" occurred while comparing Document "+v+" and Document "+m,y);if(i.bBuildReport&&h.i.MatchingWordsPerfect>=i.WordThreshold){h.i.MatchingDocumentPairs++;var M=l(t,e,h.hashesL[v],h.hashesR[m],i,h);M.length&&g.push(M)}}}if(i.bBuildReport&&(h.html=g.join("")),c){var b=h.matches[0][0];h.matches=b}return h.executionTime=Date.now()-s,a(!1,h),!0}var p=this,d=(p.copyfind,{PhraseLength:6,WordThreshold:100,SkipLength:20,MismatchTolerance:2,MismatchPercentage:80,bIgnoreCase:!1,bIgnoreNumbers:!1,bIgnoreOuterPunctuation:!1,bIgnorePunctuation:!1,bSkipLongWords:!1,bSkipNonwords:!1,bBuildReport:!0,bBriefReport:!0}),g=-1,v=0,m=1,y=p.copyfind=f;n.isUndefined(e)?p.copyfind=y:(!n.isUndefined(t)&&t.exports&&(e=t.exports=y),e.copyfind=y)}).call(this)},{"./lib/TextReader":1,"./lib/words":2,underscore:"underscore"}],underscore:[function(r,t,e){(function(){function r(r){function t(t,e,n,i,a,o){for(;a>=0&&o>a;a+=r){var u=i?i[a]:a;n=e(n,t[u],u,t)}return n}return function(e,n,i,a){n=k(n,a,4);var o=!w(e)&&b.keys(e),u=(o||e).length,s=r>0?0:u-1;return arguments.length<3&&(i=e[o?o[s]:s],s+=r),t(e,n,i,o,s,u)}}function n(r){return function(t,e,n){e=T(e,n);for(var i=L(t),a=r>0?0:i-1;a>=0&&i>a;a+=r)if(e(t[a],a,t))return a;return-1}}function i(r,t,e){return function(n,i,a){var o=0,u=L(n);if("number"==typeof a)r>0?o=a>=0?a:Math.max(a+u,o):u=a>=0?Math.min(a+1,u):a+u+1;else if(e&&a&&u)return a=e(n,i),n[a]===i?a:-1;if(i!==i)return a=t(f.call(n,o,u),b.isNaN),a>=0?a+o:-1;for(a=r>0?o:u-1;a>=0&&u>a;a+=r)if(n[a]===i)return a;return-1}}function a(r,t){var e=P.length,n=r.constructor,i=b.isFunction(n)&&n.prototype||c,a="constructor";for(b.has(r,a)&&!b.contains(t,a)&&t.push(a);e--;)a=P[e],a in r&&r[a]!==i[a]&&!b.contains(t,a)&&t.push(a)}var o=this,u=o._,s=Array.prototype,c=Object.prototype,h=Function.prototype,l=s.push,f=s.slice,p=c.toString,d=c.hasOwnProperty,g=Array.isArray,v=Object.keys,m=h.bind,y=Object.create,M=function(){},b=function(r){return r instanceof b?r:this instanceof b?void(this._wrapped=r):new b(r)};"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=b),e._=b):o._=b,b.VERSION="1.8.3";var k=function(r,t,e){if(void 0===t)return r;switch(null==e?3:e){case 1:return function(e){return r.call(t,e)};case 2:return function(e,n){return r.call(t,e,n)};case 3:return function(e,n,i){return r.call(t,e,n,i)};case 4:return function(e,n,i,a){return r.call(t,e,n,i,a)}}return function(){return r.apply(t,arguments)}},T=function(r,t,e){return null==r?b.identity:b.isFunction(r)?k(r,t,e):b.isObject(r)?b.matcher(r):b.property(r)};b.iteratee=function(r,t){return T(r,t,1/0)};var _=function(r,t){return function(e){var n=arguments.length;if(2>n||null==e)return e;for(var i=1;n>i;i++)for(var a=arguments[i],o=r(a),u=o.length,s=0;u>s;s++){var c=o[s];t&&void 0!==e[c]||(e[c]=a[c])}return e}},W=function(r){if(!b.isObject(r))return{};if(y)return y(r);M.prototype=r;var t=new M;return M.prototype=null,t},x=function(r){return function(t){return null==t?void 0:t[r]}},R=Math.pow(2,53)-1,L=x("length"),w=function(r){var t=L(r);return"number"==typeof t&&t>=0&&R>=t};b.each=b.forEach=function(r,t,e){t=k(t,e);var n,i;if(w(r))for(n=0,i=r.length;i>n;n++)t(r[n],n,r);else{var a=b.keys(r);for(n=0,i=a.length;i>n;n++)t(r[a[n]],a[n],r)}return r},b.map=b.collect=function(r,t,e){t=T(t,e);for(var n=!w(r)&&b.keys(r),i=(n||r).length,a=Array(i),o=0;i>o;o++){var u=n?n[o]:o;a[o]=t(r[u],u,r)}return a},b.reduce=b.foldl=b.inject=r(1),b.reduceRight=b.foldr=r(-1),b.find=b.detect=function(r,t,e){var n;return n=w(r)?b.findIndex(r,t,e):b.findKey(r,t,e),void 0!==n&&-1!==n?r[n]:void 0},b.filter=b.select=function(r,t,e){var n=[];return t=T(t,e),b.each(r,function(r,e,i){t(r,e,i)&&n.push(r)}),n},b.reject=function(r,t,e){return b.filter(r,b.negate(T(t)),e)},b.every=b.all=function(r,t,e){t=T(t,e);for(var n=!w(r)&&b.keys(r),i=(n||r).length,a=0;i>a;a++){var o=n?n[a]:a;if(!t(r[o],o,r))return!1}return!0},b.some=b.any=function(r,t,e){t=T(t,e);for(var n=!w(r)&&b.keys(r),i=(n||r).length,a=0;i>a;a++){var o=n?n[a]:a;if(t(r[o],o,r))return!0}return!1},b.contains=b.includes=b.include=function(r,t,e,n){return w(r)||(r=b.values(r)),("number"!=typeof e||n)&&(e=0),b.indexOf(r,t,e)>=0},b.invoke=function(r,t){var e=f.call(arguments,2),n=b.isFunction(t);return b.map(r,function(r){var i=n?t:r[t];return null==i?i:i.apply(r,e)})},b.pluck=function(r,t){return b.map(r,b.property(t))},b.where=function(r,t){return b.filter(r,b.matcher(t))},b.findWhere=function(r,t){return b.find(r,b.matcher(t))},b.max=function(r,t,e){var n,i,a=-(1/0),o=-(1/0);if(null==t&&null!=r){r=w(r)?r:b.values(r);for(var u=0,s=r.length;s>u;u++)n=r[u],n>a&&(a=n)}else t=T(t,e),b.each(r,function(r,e,n){i=t(r,e,n),(i>o||i===-(1/0)&&a===-(1/0))&&(a=r,o=i)});return a},b.min=function(r,t,e){var n,i,a=1/0,o=1/0;if(null==t&&null!=r){r=w(r)?r:b.values(r);for(var u=0,s=r.length;s>u;u++)n=r[u],a>n&&(a=n)}else t=T(t,e),b.each(r,function(r,e,n){i=t(r,e,n),(o>i||i===1/0&&a===1/0)&&(a=r,o=i)});return a},b.shuffle=function(r){for(var t,e=w(r)?r:b.values(r),n=e.length,i=Array(n),a=0;n>a;a++)t=b.random(0,a),t!==a&&(i[a]=i[t]),i[t]=e[a];return i},b.sample=function(r,t,e){return null==t||e?(w(r)||(r=b.values(r)),r[b.random(r.length-1)]):b.shuffle(r).slice(0,Math.max(0,t))},b.sortBy=function(r,t,e){return t=T(t,e),b.pluck(b.map(r,function(r,e,n){return{value:r,index:e,criteria:t(r,e,n)}}).sort(function(r,t){var e=r.criteria,n=t.criteria;if(e!==n){if(e>n||void 0===e)return 1;if(n>e||void 0===n)return-1}return r.index-t.index}),"value")};var S=function(r){return function(t,e,n){var i={};return e=T(e,n),b.each(t,function(n,a){var o=e(n,a,t);r(i,n,o)}),i}};b.groupBy=S(function(r,t,e){b.has(r,e)?r[e].push(t):r[e]=[t]}),b.indexBy=S(function(r,t,e){r[e]=t}),b.countBy=S(function(r,t,e){b.has(r,e)?r[e]++:r[e]=1}),b.toArray=function(r){return r?b.isArray(r)?f.call(r):w(r)?b.map(r,b.identity):b.values(r):[]},b.size=function(r){return null==r?0:w(r)?r.length:b.keys(r).length},b.partition=function(r,t,e){t=T(t,e);var n=[],i=[];return b.each(r,function(r,e,a){(t(r,e,a)?n:i).push(r)}),[n,i]},b.first=b.head=b.take=function(r,t,e){return null!=r?null==t||e?r[0]:b.initial(r,r.length-t):void 0},b.initial=function(r,t,e){return f.call(r,0,Math.max(0,r.length-(null==t||e?1:t)))},b.last=function(r,t,e){return null!=r?null==t||e?r[r.length-1]:b.rest(r,Math.max(0,r.length-t)):void 0},b.rest=b.tail=b.drop=function(r,t,e){return f.call(r,null==t||e?1:t)},b.compact=function(r){return b.filter(r,b.identity)};var A=function(r,t,e,n){for(var i=[],a=0,o=n||0,u=L(r);u>o;o++){var s=r[o];if(w(s)&&(b.isArray(s)||b.isArguments(s))){t||(s=A(s,t,e));var c=0,h=s.length;for(i.length+=h;h>c;)i[a++]=s[c++]}else e||(i[a++]=s)}return i};b.flatten=function(r,t){return A(r,t,!1)},b.without=function(r){return b.difference(r,f.call(arguments,1))},b.uniq=b.unique=function(r,t,e,n){b.isBoolean(t)||(n=e,e=t,t=!1),null!=e&&(e=T(e,n));for(var i=[],a=[],o=0,u=L(r);u>o;o++){var s=r[o],c=e?e(s,o,r):s;t?(o&&a===c||i.push(s),a=c):e?b.contains(a,c)||(a.push(c),i.push(s)):b.contains(i,s)||i.push(s)}return i},b.union=function(){return b.uniq(A(arguments,!0,!0))},b.intersection=function(r){for(var t=[],e=arguments.length,n=0,i=L(r);i>n;n++){var a=r[n];if(!b.contains(t,a)){for(var o=1;e>o&&b.contains(arguments[o],a);o++);o===e&&t.push(a)}}return t},b.difference=function(r){var t=A(arguments,!0,!0,1);return b.filter(r,function(r){return!b.contains(t,r)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(r){for(var t=r&&b.max(r,L).length||0,e=Array(t),n=0;t>n;n++)e[n]=b.pluck(r,n);return e},b.object=function(r,t){for(var e={},n=0,i=L(r);i>n;n++)t?e[r[n]]=t[n]:e[r[n][0]]=r[n][1];return e},b.findIndex=n(1),b.findLastIndex=n(-1),b.sortedIndex=function(r,t,e,n){e=T(e,n,1);for(var i=e(t),a=0,o=L(r);o>a;){var u=Math.floor((a+o)/2);e(r[u])<i?a=u+1:o=u}return a},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(r,t,e){null==t&&(t=r||0,r=0),e=e||1;for(var n=Math.max(Math.ceil((t-r)/e),0),i=Array(n),a=0;n>a;a++,r+=e)i[a]=r;return i};var j=function(r,t,e,n,i){if(!(n instanceof t))return r.apply(e,i);var a=W(r.prototype),o=r.apply(a,i);return b.isObject(o)?o:a};b.bind=function(r,t){if(m&&r.bind===m)return m.apply(r,f.call(arguments,1));if(!b.isFunction(r))throw new TypeError("Bind must be called on a function");var e=f.call(arguments,2),n=function(){return j(r,n,t,this,e.concat(f.call(arguments)))};return n},b.partial=function(r){var t=f.call(arguments,1),e=function(){for(var n=0,i=t.length,a=Array(i),o=0;i>o;o++)a[o]=t[o]===b?arguments[n++]:t[o];for(;n<arguments.length;)a.push(arguments[n++]);return j(r,e,this,this,a)};return e},b.bindAll=function(r){var t,e,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)e=arguments[t],r[e]=b.bind(r[e],r);return r},b.memoize=function(r,t){var e=function(n){var i=e.cache,a=""+(t?t.apply(this,arguments):n);return b.has(i,a)||(i[a]=r.apply(this,arguments)),i[a]};return e.cache={},e},b.delay=function(r,t){var e=f.call(arguments,2);return setTimeout(function(){return r.apply(null,e)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(r,t,e){var n,i,a,o=null,u=0;e||(e={});var s=function(){u=e.leading===!1?0:b.now(),o=null,a=r.apply(n,i),o||(n=i=null)};return function(){var c=b.now();u||e.leading!==!1||(u=c);var h=t-(c-u);return n=this,i=arguments,0>=h||h>t?(o&&(clearTimeout(o),o=null),u=c,a=r.apply(n,i),o||(n=i=null)):o||e.trailing===!1||(o=setTimeout(s,h)),a}},b.debounce=function(r,t,e){var n,i,a,o,u,s=function(){var c=b.now()-o;t>c&&c>=0?n=setTimeout(s,t-c):(n=null,e||(u=r.apply(a,i),n||(a=i=null)))};return function(){a=this,i=arguments,o=b.now();var c=e&&!n;return n||(n=setTimeout(s,t)),c&&(u=r.apply(a,i),a=i=null),u}},b.wrap=function(r,t){return b.partial(t,r)},b.negate=function(r){return function(){return!r.apply(this,arguments)}},b.compose=function(){var r=arguments,t=r.length-1;return function(){for(var e=t,n=r[t].apply(this,arguments);e--;)n=r[e].call(this,n);return n}},b.after=function(r,t){return function(){return--r<1?t.apply(this,arguments):void 0}},b.before=function(r,t){var e;return function(){return--r>0&&(e=t.apply(this,arguments)),1>=r&&(t=null),e}},b.once=b.partial(b.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(r){if(!b.isObject(r))return[];if(v)return v(r);var t=[];for(var e in r)b.has(r,e)&&t.push(e);return O&&a(r,t),t},b.allKeys=function(r){if(!b.isObject(r))return[];var t=[];for(var e in r)t.push(e);return O&&a(r,t),t},b.values=function(r){for(var t=b.keys(r),e=t.length,n=Array(e),i=0;e>i;i++)n[i]=r[t[i]];return n},b.mapObject=function(r,t,e){t=T(t,e);for(var n,i=b.keys(r),a=i.length,o={},u=0;a>u;u++)n=i[u],o[n]=t(r[n],n,r);return o},b.pairs=function(r){for(var t=b.keys(r),e=t.length,n=Array(e),i=0;e>i;i++)n[i]=[t[i],r[t[i]]];return n},b.invert=function(r){for(var t={},e=b.keys(r),n=0,i=e.length;i>n;n++)t[r[e[n]]]=e[n];return t},b.functions=b.methods=function(r){var t=[];for(var e in r)b.isFunction(r[e])&&t.push(e);return t.sort()},b.extend=_(b.allKeys),b.extendOwn=b.assign=_(b.keys),b.findKey=function(r,t,e){t=T(t,e);for(var n,i=b.keys(r),a=0,o=i.length;o>a;a++)if(n=i[a],t(r[n],n,r))return n},b.pick=function(r,t,e){var n,i,a={},o=r;if(null==o)return a;b.isFunction(t)?(i=b.allKeys(o),n=k(t,e)):(i=A(arguments,!1,!1,1),n=function(r,t,e){return t in e},o=Object(o));for(var u=0,s=i.length;s>u;u++){var c=i[u],h=o[c];n(h,c,o)&&(a[c]=h)}return a},b.omit=function(r,t,e){if(b.isFunction(t))t=b.negate(t);else{var n=b.map(A(arguments,!1,!1,1),String);t=function(r,t){return!b.contains(n,t)}}return b.pick(r,t,e)},b.defaults=_(b.allKeys,!0),b.create=function(r,t){var e=W(r);return t&&b.extendOwn(e,t),e},b.clone=function(r){return b.isObject(r)?b.isArray(r)?r.slice():b.extend({},r):r},b.tap=function(r,t){return t(r),r},b.isMatch=function(r,t){var e=b.keys(t),n=e.length;if(null==r)return!n;for(var i=Object(r),a=0;n>a;a++){var o=e[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var N=function(r,t,e,n){if(r===t)return 0!==r||1/r===1/t;if(null==r||null==t)return r===t;r instanceof b&&(r=r._wrapped),t instanceof b&&(t=t._wrapped);var i=p.call(r);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+r==""+t;case"[object Number]":return+r!==+r?+t!==+t:0===+r?1/+r===1/t:+r===+t;case"[object Date]":case"[object Boolean]":return+r===+t}var a="[object Array]"===i;if(!a){if("object"!=typeof r||"object"!=typeof t)return!1;var o=r.constructor,u=t.constructor;if(o!==u&&!(b.isFunction(o)&&o instanceof o&&b.isFunction(u)&&u instanceof u)&&"constructor"in r&&"constructor"in t)return!1}e=e||[],n=n||[];for(var s=e.length;s--;)if(e[s]===r)return n[s]===t;if(e.push(r),n.push(t),a){if(s=r.length,s!==t.length)return!1;for(;s--;)if(!N(r[s],t[s],e,n))return!1}else{var c,h=b.keys(r);if(s=h.length,b.keys(t).length!==s)return!1;for(;s--;)if(c=h[s],!b.has(t,c)||!N(r[c],t[c],e,n))return!1}return e.pop(),n.pop(),!0};b.isEqual=function(r,t){return N(r,t)},b.isEmpty=function(r){return null==r?!0:w(r)&&(b.isArray(r)||b.isString(r)||b.isArguments(r))?0===r.length:0===b.keys(r).length},b.isElement=function(r){return!(!r||1!==r.nodeType)},b.isArray=g||function(r){return"[object Array]"===p.call(r)},b.isObject=function(r){var t=typeof r;return"function"===t||"object"===t&&!!r},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(r){b["is"+r]=function(t){return p.call(t)==="[object "+r+"]"}}),b.isArguments(arguments)||(b.isArguments=function(r){return b.has(r,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(r){return"function"==typeof r||!1}),b.isFinite=function(r){return isFinite(r)&&!isNaN(parseFloat(r))},b.isNaN=function(r){return b.isNumber(r)&&r!==+r},b.isBoolean=function(r){return r===!0||r===!1||"[object Boolean]"===p.call(r)},b.isNull=function(r){return null===r},b.isUndefined=function(r){return void 0===r},b.has=function(r,t){return null!=r&&d.call(r,t)},b.noConflict=function(){return o._=u,this},b.identity=function(r){return r},b.constant=function(r){return function(){return r}},b.noop=function(){},b.property=x,b.propertyOf=function(r){return null==r?function(){}:function(t){return r[t]}},b.matcher=b.matches=function(r){return r=b.extendOwn({},r),function(t){return b.isMatch(t,r)}},b.times=function(r,t,e){var n=Array(Math.max(0,r));t=k(t,e,1);for(var i=0;r>i;i++)n[i]=t(i);return n},b.random=function(r,t){return null==t&&(t=r,r=0),r+Math.floor(Math.random()*(t-r+1))},b.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=b.invert(D),E=function(r){var t=function(t){return r[t]},e="(?:"+b.keys(r).join("|")+")",n=RegExp(e),i=RegExp(e,"g");return function(r){return r=null==r?"":""+r,n.test(r)?r.replace(i,t):r}};b.escape=E(D),b.unescape=E(C),b.result=function(r,t,e){var n=null==r?void 0:r[t];return void 0===n&&(n=e),b.isFunction(n)?n.call(r):n};var F=0;b.uniqueId=function(r){var t=++F+"";return r?r+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,q=function(r){return"\\"+H[r]};b.template=function(r,t,e){!t&&e&&(t=e),t=b.defaults({},t,b.templateSettings);var n=RegExp([(t.escape||I).source,(t.interpolate||I).source,(t.evaluate||I).source].join("|")+"|$","g"),i=0,a="__p+='";r.replace(n,function(t,e,n,o,u){return a+=r.slice(i,u).replace(B,q),i=u+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(u){throw u.source=a,u}var s=function(r){return o.call(this,r,b)},c=t.variable||"obj";return s.source="function("+c+"){\n"+a+"}",s},b.chain=function(r){var t=b(r);return t._chain=!0,t};var U=function(r,t){return r._chain?b(t).chain():t};b.mixin=function(r){b.each(b.functions(r),function(t){var e=b[t]=r[t];b.prototype[t]=function(){var r=[this._wrapped];return l.apply(r,arguments),U(this,e.apply(b,r))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(r){var t=s[r];b.prototype[r]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!==r&&"splice"!==r||0!==e.length||delete e[0],U(this,e)}}),b.each(["concat","join","slice"],function(r){var t=s[r];b.prototype[r]=function(){return U(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}]},{},[]);
